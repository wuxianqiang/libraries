# libraries

# ç›®å½•
- [æ’å…¥æ’åºç®—æ³•](#æ’å…¥æ’åºç®—æ³•)ğŸ“”
- [å‡½æ•°é˜²æŠ–](#å‡½æ•°é˜²æŠ–)       ğŸ““
- [å‡½æ•°èŠ‚æµ](#å‡½æ•°èŠ‚æµ)       ğŸ“™
- [æ•°ç»„å±•å¹³](#æ•°ç»„å±•å¹³)       ğŸ“˜
- [å¯»æ‰¾æœ€å¤§å€¼](#å¯»æ‰¾æœ€å¤§å€¼)    ğŸ“—
- [å†’æ³¡æ’åº](#å†’æ³¡æ’åº)       ğŸ“•
- [foo(1)(2)(3)(4)å®ç°1+2+3+4](#foo1234å®ç°1234)ğŸš€
- [ä»¿å‡½æ•°åŸå‹ä¸Šçš„call()æ–¹æ³•](#ä»¿å‡½æ•°åŸå‹ä¸Šçš„callæ–¹æ³•)
- [ä»¿æ•°ç»„åŸå‹ä¸Šçš„push()æ–¹æ³•](#ä»¿æ•°ç»„åŸå‹ä¸Šçš„pushæ–¹æ³•)
- [ä»¿ES6ä¸­çš„Array.of()æ–¹æ³•](#ä»¿es6ä¸­çš„arrayofæ–¹æ³•)
- [ä»¿ECMAScript5ä¸­Object.create()å‡½æ•°](#ä»¿ecmascript5ä¸­objectcreateå‡½æ•°)
- [ä»¿ECMAScript5ä¸­String.trim()å‡½æ•°](#ä»¿ecmascript5ä¸­stringtrimå‡½æ•°)
- [ä»¿ECMAScript5ä¸­Array.reduce()å‡½æ•°](#ä»¿ecmascript5ä¸­arrayreduceå‡½æ•°)
- [ä»¿ECMAScript5ä¸­Object.keys()å‡½æ•°](#ä»¿ecmascript5ä¸­objectkeyså‡½æ•°)
- [ä»¿ECMAScript5ä¸­Function.bind()å‡½æ•°](#ä»¿ecmascript5ä¸­functionbindå‡½æ•°)
- [ä»¿ECMAScript5ä¸­Array.map()å‡½æ•°](#ä»¿ecmascript5ä¸­arraymapå‡½æ•°)
- [ä»¿ECMAScript5ä¸­Array.forEach()å‡½æ•°](#ä»¿ecmascript5ä¸­arrayforeachå‡½æ•°)
- [ä»¿ECMAScript5ä¸­Array.filter()å‡½æ•°](#ä»¿ecmascript5ä¸­arrayfilterå‡½æ•°)
- [ä»¿ECMAScript5ä¸­Array.every()å‡½æ•°](#ä»¿ecmascript5ä¸­arrayeveryå‡½æ•°)
- [ä»¿ECMAScript5ä¸­Array.some()å‡½æ•°](#ä»¿ecmascript5ä¸­arraysomeå‡½æ•°)
- [ä»¿ECMAScript5ä¸­Array.find()å‡½æ•°](#ä»¿ecmascript5ä¸­arrayfindå‡½æ•°)
- [ä»¿ECMAScript5ä¸­Array.findIndex()å‡½æ•°](#ä»¿ecmascript5ä¸­arrayfindindexå‡½æ•°)
- [ä»¿Array.indexOf()å‡½æ•°](#ä»¿arrayindexofå‡½æ•°)
- [ä»¿Math.max()æ–¹æ³•å®ç°](#ä»¿mathmaxæ–¹æ³•ä¸å®šå®å‚å‡½æ•°)
- [ä»¿String.match()æ–¹æ³•å®ç°](#ä»¿stringmatchæ–¹æ³•å®ç°)
- [ä»¿HTML5çš„classListå±æ€§å®ç°](#ä»¿html5çš„classlistå±æ€§)
- [ä»¿Function.nameå±æ€§å®ç°](#è¿”å›å‡½æ•°çš„åå­—)
- [è¿”å›å…ƒç´ çš„ç¬¬nå±‚ç¥–å…ˆå…ƒç´ ](#è¿”å›å…ƒç´ çš„ç¬¬nå±‚ç¥–å…ˆå…ƒç´ )
- [è¿”å›å…ƒç´ çš„ç¬¬nä¸ªå…„å¼Ÿå…ƒç´ ](#è¿”å›å…ƒç´ çš„ç¬¬nä¸ªå…„å¼Ÿå…ƒç´ )
- [è¿”å›å…ƒç´ çš„ç¬¬nä¸ªå­ä»£å…ƒç´ ](#è¿”å›å…ƒç´ çš„ç¬¬nä¸ªå­ä»£å…ƒç´ )
- [åŸç”ŸJSå®ç°CSSåŠ¨ç”»ä¹‹éœ‡åŠ¨](#åŸç”Ÿjså®ç°cssåŠ¨ç”»1)
- [åŸç”ŸJSå®ç°CSSåŠ¨ç”»ä¹‹éšè—](#åŸç”Ÿjså®ç°cssåŠ¨ç”»2)
- [åœ¨æ•°ç»„ä¸­æŸ¥æ‰¾æ‰€æœ‰å‡ºç°çš„å…ƒç´ æ–¹æ³•](#åœ¨æ•°ç»„ä¸­æŸ¥æ‰¾æ‰€æœ‰å‡ºç°çš„å…ƒç´ æ–¹æ³•)
- [æ•°æ®ç±»å‹æ£€æµ‹ä¹‹ç‰¹æ®Šæƒ…å†µç‰¹æ®Šå¤„ç†](#æ•°æ®ç±»å‹æ£€æµ‹ç‰¹æ®Šæƒ…å†µç‰¹æ®Šå¤„ç†)
- [ä½¿ç”¨innerHTMLå®ç°outerHTMLå±æ€§](#ä½¿ç”¨innerhtmlå®ç°outerhtmlå±æ€§)
- [æ’å…¥èŠ‚ç‚¹](#æ’å…¥èŠ‚ç‚¹)
- [å€’åºæ’åˆ—å­èŠ‚ç‚¹](#å€’åºæ’åˆ—å­èŠ‚ç‚¹)
- [æŸ¥è¯¢çª—å£æ»šåŠ¨æ¡çš„ä½ç½®](#æŸ¥è¯¢çª—å£æ»šåŠ¨æ¡çš„ä½ç½®)
- [æŸ¥è¯¢çª—å£çš„è§†å£å°ºå¯¸](#æŸ¥è¯¢çª—å£çš„è§†å£å°ºå¯¸)
- [è¡¨æ ¼çš„è¡Œæ’åº](#è¡¨æ ¼çš„è¡Œæ’åº)
- [ç”Ÿæˆç›®å½•è¡¨](#ç”Ÿæˆç›®å½•è¡¨)
- [æ•°ç»„å»é‡](#æ•°ç»„å»é‡)
- [å†’æ³¡æ’åº](#å†’æ³¡æ’åº)
- [ä»URLè§£æå‚æ•°](#ä»urlè§£æå‚æ•°)
- [è·å–çº¯æ–‡æœ¬çš„å…ƒç´ å†…å®¹](#è·å–çº¯æ–‡æœ¬çš„å…ƒç´ å†…å®¹)
- [æ‰‹å†™ä¸€ä¸ªJSONPå®ç°](#æ‰‹å†™ä¸€ä¸ªjsonpå®ç°)
- [æŸ¥è¯¢çº¯æ–‡æœ¬å½¢å¼çš„å†…å®¹](#æŸ¥è¯¢çº¯æ–‡æœ¬å½¢å¼çš„å†…å®¹)
- [æŸ¥æ‰¾å…ƒç´ çš„åä»£ä¸­èŠ‚ç‚¹ä¸­çš„æ‰€æœ‰TextèŠ‚ç‚¹](#æŸ¥æ‰¾å…ƒç´ çš„åä»£ä¸­èŠ‚ç‚¹ä¸­çš„æ‰€æœ‰textèŠ‚ç‚¹)
- [ä½¿ç”¨innerHTMLå®ç°insertAdjacentHTML](#ä½¿ç”¨innerhtmlå®ç°insertadjacenthtml)
- [æ‹–æ‹½](#æ‹–æ‹½)
- [åœ¨è°·æ­Œåœ°å›¾ä¸Šæ˜¾ç¤ºåœ°ç†ä½ç½®ä¿¡æ¯](#åœ¨è°·æ­Œåœ°å›¾ä¸Šæ˜¾ç¤ºåœ°ç†ä½ç½®ä¿¡æ¯)
- [ä½¿ç”¨æ‰€æœ‰åœ°ç†ä½ç½®ç‰¹æ€§](#ä½¿ç”¨æ‰€æœ‰åœ°ç†ä½ç½®ç‰¹æ€§)
- [ä¼˜é›…çš„å›¾ç‰‡ç¿»è½¬å®ç°](#ä¼˜é›…çš„å›¾ç‰‡ç¿»è½¬å®ç°)
- [ä½¿ç”¨canvasç»˜åˆ¶å¤šè¾¹å½¢](#ä½¿ç”¨canvasç»˜åˆ¶å¤šè¾¹å½¢)
- [ä½¿ç”¨canvasç»˜åˆ¶é›ªèŠ±](#ä½¿ç”¨canvasç»˜åˆ¶é›ªèŠ±)
- [åœ¨Web Workerä¸­å‘èµ·åŒæ­¥XMLHtttpRequest](#åœ¨web-workerä¸­å‘èµ·åŒæ­¥xmlhtttprequest)
- [ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—æ¯çš„å‡ºç°æ¬¡æ•°](#ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—æ¯çš„å‡ºç°æ¬¡æ•°)
- [ç»™HTMLå…ƒç´ å¢åŠ æ ·å¼ç±»å](#ç»™htmlå…ƒç´ å¢åŠ æ ·å¼ç±»å)
- [å†™ä¸€ä¸ªèŒƒå›´å‡½æ•°](#å†™ä¸€ä¸ªèŒƒå›´å‡½æ•°)
- [å†™ä¸€ä¸ªevalå‡½æ•°](#å†™ä¸€ä¸ªevalå‡½æ•°)
- [åˆ¤æ–­ç©ºå¯¹è±¡çš„å‡½æ•°](#åˆ¤æ–­ç©ºå¯¹è±¡çš„å‡½æ•°)
- [éšæœºæŠ½æ ·è°ƒæŸ¥](#éšæœºæŠ½æ ·è°ƒæŸ¥)
- [æ±‚æ•°ç»„ä¸­çš„æœ€å¤§æ•°](#æ±‚æ•°ç»„ä¸­çš„æœ€å¤§æ•°)
- [å­—ç¬¦ä¸²çš„repeatçš„æ–¹æ³•æ¨¡ä»¿](#å­—ç¬¦ä¸²çš„repeatçš„æ–¹æ³•æ¨¡ä»¿)

## æ’å…¥æ’åºç®—æ³•
```js
function insert_sort (A) {
  for (let j = 1, len = A.length; j < len; j++) {
    const key = A[j]
    let i = j - 1
    while (i >= 0 && A[i] > key) {
      A[i + 1] = A[i]
      i--
    }
    A[i + 1] = key
  }
}
```

## å‡½æ•°é˜²æŠ–
```js
function throttle (func, delay = 300, I = null) {
  return (...args) => {
    clearTimeout(I)
    I = setTimeout(func.bind(null, ...args), delay)
  }
}
```

## å‡½æ•°èŠ‚æµ
```js
function throttle (func, delay = 60) {
  let lock = false
  return (...args) => {
    if (lock) {
      return
    }
    func(...args)
    lock = true
    setTimeout(() => {
      lock = false
    })
  }
}
```

## æ•°ç»„å±•å¹³
```js
function flatten (arr) {
  return [].concat(
    ...arr.map(x => 
      Array.isArray(x) ? flatten(x) : x
    )
  )
}
```

## å¯»æ‰¾æœ€å¤§å€¼
```js
// O(n)çš„ç®—æ³•
function find_max (arr) {
  let max = Number.NEGATIVE_INFINITY
  for (let i = 0, len = arr.length; i < len; i++) {
    max = (arr[i] > max ? arr[i] : max)
  }
  return max
}
```

## å†’æ³¡æ’åº
```js
// O^2ç®—æ³•
function bubble_sort (A) {
  for (let i = A.length; i > 0; i--) {
    for (let j = 1; j < i; j++) {
      if (A[j] < A[j - 1]) {
        swap(A, j, j - 1)
      }
    }
  }
  return A
}

function swap (A, i, j) {
  const t = A[i]
  A[i] = A[j]
  A[j] = t
}
```

## foo(1)(2)(3)(4)å®ç°1+2+3+4
```js
const curry = func => {
  const g = (...allArgs) => allArgs.length >= func.length ? func(...allArgs) : (...args) => g(...allArgs, ...args)
  return g
}
const foo = curry ((a, b, c, d) => {
  return a + b + c + d
})
foo(1)(2)(3)(4)
```

## ä»¿å‡½æ•°åŸå‹ä¸Šçš„call()æ–¹æ³•
```js
Function.prototype.mycall = function mycall() {
    var ary = [...arguments].slice(1);
    if (arguments[0] == undefined) {
        this(...ary);
    } else {
        var obj = Object(arguments[0]);
        obj.__proto__.fn = this;
        obj.fn(...ary);
        delete obj.__proto__.fn;
    }
    return this;
}
```
**[â¬† back to top](#readme)**
## ä»¿æ•°ç»„åŸå‹ä¸Šçš„push()æ–¹æ³•
```js
Array.prototype.myPush = function () {
    let argLen = arguments.length;
    if (argLen === 0) return this.length;
    for (let i = 0; i < argLen; i++) {
        const element = arguments[i];
        this[this.length] = element;
    }
    return this.length;
}
```
**[â¬† back to top](#readme)**
**[â¬† back to top](#readme)**
## ä»¿ES6ä¸­çš„Array.of()æ–¹æ³•
```js
let myArray = { of: function of () {
        const len = arguments.length;
        if (len === 0) return [];
        let ary = [];
        for (let i = 0; i < len; i++) {
            const element = arguments[i];
            ary.push(element);
        }
        return ary;
    }
}
```
**[â¬† back to top](#readme)**
## ä»¿ECMAScript5ä¸­Object.create()å‡½æ•°
```js
        function inherit(obj) {
            if (obj === null) throw TypeError();
            if (Object.create) return Object.create(obj);
            var t = typeof obj;
            if (t !== "object" && t !== "function") throw TypeError();
            function Fn() {};
            Fn.prototype = obj;
            return new Fn();
        }
```
**[â¬† back to top](#readme)**
## ä»¿ECMAScript5ä¸­String.trim()å‡½æ•°
```js
        String.prototype.mytrim = function () {
            String.prototype.trim || function () {
                if (!this) return this; //ç©ºå­—ç¬¦ä¸²ä¸åšå¤„ç†
                return this.replace(/^\s+|\s+$/g, "") //ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ç»è¡Œç©ºæ ¼æ›¿æ¢
            }
        }
```
**[â¬† back to top](#readme)**
## ä»¿ECMAScript5ä¸­Array.reduce()å‡½æ•°

```js
        var reduce = Array.prototype.reduce ? function (ary, fn, initial) {
            if (arguments.length > 2) { //å¦‚æœreduce()æ–¹æ³•å­˜åœ¨çš„è¯
                return ary.reduce(fn, initial); //å¦‚æœä¼ å…¥äº†ä¸€ä¸ªåˆå§‹å€¼
            } else {
                return ary.reduce(fn); //å¦åˆ™åˆå§‹å€¼
            }
        } : function (ary, fn, initial) { //ä»¥ç‰¹å®šçš„åˆå§‹å€¼å¼€å§‹ï¼Œå¦åˆ™ç¬¬ä¸€ä¸ªå€¼å–è‡ªary
            var i = 0,
                len = ary.length,
                accumulator;
            if (arguments.length > 2) {
                accumulator = initial;
            } else { //æ‰¾åˆ°æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå·²ç»å®šä¹‰çš„ç´¢å¼•
                if (len == 0) throw TypeError();
                while (i < len) {
                    if (i in ary) {
                        accumulator = ary[i++];
                        break;
                    } else {
                        i++;
                    }
                }
                if (i == len) throw TypeError();
            }
            while (i < len) { //å¯¹äºæ•°ç»„ä¸­å‰©ä¸‹çš„å…ƒç´ ä¾æ¬¡è°ƒç”¨fn
                if (i in ary) {
                    accumulator = fn.call(undefined, accumulator, ary[i], i, ary)
                }
                i++;
            }
            return accumulator;
        }
```
**[â¬† back to top](#readme)**
## åœ¨æ•°ç»„ä¸­æŸ¥æ‰¾æ‰€æœ‰å‡ºç°çš„å…ƒç´ æ–¹æ³•

```js
        function findAll(ary, ele) {
            var results = [],
                len = ary.length,
                pos = 0;
            while (pos < len) {
                pos = ary.indexOf(ele, pos);
                if (pos === -1) break;
                results.push(pos);
                pos++;
            }
            return results;
        }
```
**[â¬† back to top](#readme)**
## æ•°æ®ç±»å‹æ£€æµ‹ï¼Œç‰¹æ®Šæƒ…å†µç‰¹æ®Šå¤„ç†

```js
        function classOf(obj) {
            if (obj === null) return "Null";
            if (obj === undefined) return 'Undefined';
            return Object.prototype.toString.call(obj).slice(8, -1);
        }
```
**[â¬† back to top](#readme)**
## ä»¿ECMAScript5ä¸­Object.keys()å‡½æ•°

```js
        function keys(obj) {
            if (typeof obj !== "object") {
                throw TypeError();
            }
            var result = [];
            for (var prop in obj) {
                if (obj.hasOwnProperty(prop)) {
                    result.push(prop);
                }
            }
            return result;
        }
```
**[â¬† back to top](#readme)**
## ä»¿Math.maxæ–¹æ³•ï¼ˆä¸å®šå®å‚å‡½æ•°ï¼‰

```js
        function max() {
            var max = Number.NEGATIVE_INFINITY;
            for (var i = 0; i < arguments.length; i++) {
                if (arguments[i] > max) max = arguments[i];
            }
            return max;
        }
```
**[â¬† back to top](#readme)**
## ä»¿ECMAScript5ä¸­Function.bind()å‡½æ•°

```js
        if (!Function.prototype.bind) {
            Function.prototype.bind = function (obj) {
                var self = this,
                    boundArgs = arguments;
                return function () {
                    var args = [],
                        i;
                    for (i = 1; i < boundArgs.length; i++) args.push(boundArgs[i]);
                    for (i = 1; i < arguments.length; i++) args.push(arguments[i]);
                    return self.apply(obj, args);
                }
            }
        }
```
**[â¬† back to top](#readme)**
## ä»¿ECMAScript5ä¸­Array.map()å‡½æ•°

```js
Array.prototype.mymap = function (fn, obj) {
    let res = [];
    for (let i = 0; i < this.length; i++) {
        const element = this[i];
        if (obj == undefined) {
            res[i] = fn(element, i, this)
        } else {
            res[i] = fn.call(obj, element, i, this);
        }
    }
    return res;
}
```
**[â¬† back to top](#readme)**
## ä»¿ECMAScript5ä¸­Array.forEach()å‡½æ•°
```js
Array.prototype.myforEach = function (fn, obj) {
    for (let i = 0; i < this.length; i++) {
        const element = this[i];
        if (obj == undefined) {
            fn(element, i, this)
        } else {
            fn.call(obj, element, i, this);
        }
    }
}
```
**[â¬† back to top](#readme)**
## ä»¿ECMAScript5ä¸­Array.filter()å‡½æ•°
```js
Array.prototype.myfilter = function (fn, obj) {
    let res = [],
        index = 0;
    for (let i = 0; i < this.length; i++) {
        const element = this[i];
        if (obj == undefined) {
            let cur = fn(element, i, this);
            if (cur) res[index++] = element;
        } else {
            let cur = fn.call(obj, element, i, this);
            if (cur) res[index++] = element;
        }
    }
    return res;
}
```
**[â¬† back to top](#readme)**
## ä»¿ECMAScript5ä¸­Array.every()å‡½æ•°
```js
Array.prototype.myevery = function (fn, obj) {
    let res = true;
    for (let i = 0; i < this.length; i++) {
        const element = this[i];
        if (obj == undefined) {
            let cur = fn(element, i, this);
            if (!cur) {
                res = false;
                break;
            }
        } else {
            let cur = fn.call(obj, element, i, this);
            if (!cur) {
                res = false;
                break;
            }
        }
    }
    return res;
}
```
**[â¬† back to top](#readme)**
## ä»¿ECMAScript5ä¸­Array.some()å‡½æ•°
```js
Array.prototype.mysome = function (fn, obj) {
    let res = false;
    for (let i = 0; i < this.length; i++) {
        const element = this[i];
        if (obj == undefined) {
            let cur = fn(element, i, this);
            if (cur) {
                res = true;
                break;
            }
        } else {
            let cur = fn.call(obj, element, i, this);
            if (cur) {
                res = true;
                break;
            }
        }
    }
    return res;
}
```
**[â¬† back to top](#readme)**
## ä»¿ECMAScript5ä¸­Array.find()å‡½æ•°
```js
Array.prototype.myfind = function (fn, obj) {
 Â  Â let res = undefined;
    for (let i = 0; i < this.length; i++) {
        const element = this[i];
        if (obj == undefined) {
            let cur = fn(element, i, this);
            if (cur) {
                res = element;
                break;
            }
        } else {
            let cur = fn.call(obj, element, i, this);
            if (cur) {
                res = element;
                break;
            }
        }
    }
    return res;
}
```
**[â¬† back to top](#readme)**
## ä»¿ECMAScript5ä¸­Array.findIndex()å‡½æ•°
```js
Array.prototype.myfindIndex = function (fn, obj) {
 Â  Â let res = undefined;
    for (let i = 0; i < this.length; i++) {
        const element = this[i];
        if (obj == undefined) {
            let cur = fn(element, i, this);
            if (cur) {
                res = i;
                break;
            }
        } else {
            let cur = fn.call(obj, element, i, this);
            if (cur) {
                res = i;
                break;
            }
        }
    }
    return res;
}
```
**[â¬† back to top](#readme)**
## ä»¿Array.indexOf()å‡½æ•°
```js
String.prototype.myindexOf = function () {
    let index = -1;
    let arg = arguments.length;
    if (!arg) return index;
    let s1 = arguments[0][0];
    if (arg > 1) {
        let param = arguments[1];
        if (typeof param !== "number" || isNaN(param)) return index;
        let len = this.length;
        if (param < 0 && param >= -len) {
            param += len;
        } else if (param < -len) {
            param = 0
        } else if (param > len) {
            return index;
        }
        for (let i = param; i < len; i++) {
            const s2 = this[i];
            if (s1 === s2) {
                index = i;
                break;
            }
        }
    }
    if (!arguments[1]) {
        for (let i = 0; i < this.length; i++) {
            const s2 = this[i];
            if (s1 === s2) {
                index = i;
                break;
            }
        }
    }
    return index;
}
```
**[â¬† back to top](#readme)**
## æ•°ç»„å»é‡

```js
        Array.prototype.unique = function unique() {
            var obj = {};
            for (var i = 0; i < this.length; i++) {
                var current = this[i];
                if (obj[current] === current) {
                    current = this[this.length - 1];
                    this.length--;
                    i--;
                    continue;
                }
                obj[current] = current
            }
            obj = null;
            return this;
        }
```
**[â¬† back to top](#readme)**
## å†’æ³¡æ’åº

```js
        Array.prototype.bubbleSort = function bubbleSort() {
            var temp = null;
            for (var i = 0; i < this.length - 1; i++) {
                for (var k = 0; k < this.length - 1 - i; k++) {
                    if (this[k] > this[k + 1]) {
                        temp = this[k];
                        this[k] = this[k + 1];
                        this[k + 1] = temp;
                    }
                }
            }
            return this;
        }

```
**[â¬† back to top](#readme)**
## ä»¿String.match()æ–¹æ³•å®ç°

```js
        String.prototype.mymatch = function (reg) {
         var ary = [];
         var res = reg.exec(this);
         while (res) {
            ary.push(res[0]);
            res = reg.exec(this);
         }
         return ary;
        }
```
**[â¬† back to top](#readme)**
## è¿”å›å…ƒç´ çš„ç¬¬nå±‚ç¥–å…ˆå…ƒç´ 

```js
        /**
        *è¿”å›å…ƒç´ eleçš„ç¬¬nå±‚ç¥–å…ˆå…ƒç´ ï¼Œå¦‚æœä¸å­˜åœ¨æ­¤ç±»ç¥–å…ˆæˆ–ç¥–å…ˆä¸æ˜¯Elementï¼Œ
        *ï¼ˆä¾‹å¦‚Documentæˆ–è€…DocumentFragmentï¼‰åˆ™è¿”å›null
        *å¦‚æœnä¸º0ï¼Œåˆ™è¿”å›eæœ¬èº«ã€‚å¦‚æœnä¸º1ï¼ˆæˆ–çœç•¥ï¼‰ï¼Œåˆ™è¿”å›å…¶çˆ¶å…ƒç´ 
        *å¦‚æœnä¸º2ï¼Œåˆ™è¿”å›å…¶ç¥–çˆ¶å…ƒç´ ï¼Œä¾æ¬¡ç±»æ¨
        */
        function parent(ele, n) {
            if (n === nudefined) n = 1;
            while (n-- && ele) {
                ele = ele.parentNode;
            }
            if (!ele || ele.nodeTope !== 1) return null;
            return ele;
        }
```
**[â¬† back to top](#readme)**
## è¿”å›å…ƒç´ çš„ç¬¬nä¸ªå…„å¼Ÿå…ƒç´ 

```js
/**
 *è¿”å›å…ƒç´ eleçš„ç¬¬nä¸ªå…„å¼Ÿå…ƒç´ 
 *å¦‚æœnä¸ºæ­£ï¼Œè¿”å›åç»­çš„ç¬¬nä¸ªå…„å¼Ÿå…ƒç´ 
 *å¦‚æœnä¸ºè´Ÿï¼Œè¿”å›å‰é¢çš„ç¬¬nä¸ªå…„å¼Ÿå…ƒç´ 
 *å¦‚æœnä¸ºé›¶ï¼Œè¿”å›eleæœ¬èº«
 */
function sibling(ele, n) {
    while (ele && n !== 0) { //å¦‚æœeleæœªå®šä¹‰ï¼Œå³åˆ»è¿”å›å®ƒ
        if (n > 0) { //æŸ¥æ‰¾åç»­çš„å…„å¼Ÿå…ƒç´ 
            if (ele.nextElementSibling) {
                ele = ele.nextElementSibling;
            } else {
                for (ele = ele.nextSibling; ele && ele.nodeType !== 1; ele = ele.nextSibling) /*ç©ºå¾ªç¯*/;
            }
            n--;
        } else { //æŸ¥æ‰¾å‰é¢çš„å…„å¼Ÿå…ƒç´ 
            if (ele.previousElementSibing) {
                ele = ele.previousElementSibling;
            } else {
                for (ele = ele.previousSibling; ele && ele.nodeType !== 1; ele = ele.previousSibling) /*ç©ºå¾ªç¯*/;
            }
            n++;
        }
    }
    return ele;
}
```
**[â¬† back to top](#readme)**
## è¿”å›å…ƒç´ çš„ç¬¬nä¸ªå­ä»£å…ƒç´ 

```js
/**
 *è¿”å›å…ƒç´ eleçš„ç¬¬nä»£å­å…ƒç´ ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä¸ºnull
 *è´Ÿå€¼nä»£è¡¨ä»åå¾€å‰è®¡æ•°ã€‚0è¡¨ç¤ºç¬¬ä¸€ä¸ªå­å…ƒç´ ï¼Œè€Œ-1ä»£è¡¨æœ€åä¸€ä¸ªï¼Œ-2ä»£è¡¨å€’æ•°ç¬¬äºŒä¸ªï¼Œä¾æ¬¡ç±»æ¨
 */
function child(ele, n) {
    if (ele.children) { //å¦‚æœchildrenæ•°ç»„å­˜åœ¨
        if (n < 0) n += ele.children.length; //è½¬æ¢è´Ÿçš„nä¸ºæ•°ç»„ç´¢å¼•
        if (n < 0) return null; //å¦‚æœå®ƒä»ç„¶ä¸ºè´Ÿï¼Œè¯´æ˜æ²¡æœ‰å­å…ƒç´ 
        return ele.children[n]; //è¿”å›æŒ‡å®šçš„å­å…ƒç´ 
    }
    //å¦‚æœeæ²¡æœ‰childrenæ•°ç»„ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå­å…ƒç´ å¹¶å‘å‰æ•°ï¼Œæˆ–æ‰¾åˆ°æœ€åä¸€ä¸ªå­å…ƒç´ å¹¶å¾€å›æ•°
    if (n >= 0) { //néè´Ÿï¼šä»ç¬¬ä¸€ä¸ªå­å…ƒç´ å‘å‰æ•°
        //æ‰¾åˆ°å…ƒç´ eçš„ç¬¬ä¸€ä¸ªå­å…ƒç´ 
        if (ele.firstElementChild) {
            ele = ele.firstElementChild;
        } else {
            for (ele = ele.firstChild; ele && ele.nodeType !== 1; ele = ele.nextSibling) /*ç©ºå¾ªç¯*/;
        }
        return sibling(ele, n); //è¿”å›ç¬¬ä¸€ä¸ªå­å…ƒç´ çš„ç¬¬nä¸ªå…„å¼Ÿå…ƒç´ 
    } else { //nä¸ºè´Ÿï¼šä»æœ€åä¸€ä¸ªå­å…ƒç´ å¾€å›æ•°
        if (ele.lastElementChild) {
            ele = ele.lastElementChild;
        } else {
            for (ele = ele.lastChild; ele && ele.nodeType !== 1; ele = ele.previousSibling) /*ç©ºå¾ªç¯*/;
        }
        return sibling(ele, n + 1); //+1æ¥è½¬åŒ–æœ€å1ä¸ªå­å…ƒç´ ä¸ºæœ€å1ä¸ªå…„å¼Ÿå…ƒç´ 
    }
}
```
**[â¬† back to top](#readme)**
## è¡¨æ ¼çš„è¡Œæ’åº

```js
//æ ¹æ®æŒ‡å®šè¡¨æ ¼æ¯è¡Œç¬¬nä¸ªå•å…ƒæ ¼çš„å€¼ï¼Œå¯¹ç¬¬ä¸€ä¸ªï¼œtbodyï¼ä¸­çš„è¡Œè¿›è¡Œæ’åº
//å¦‚æœå­˜åœ¨comparatorå‡½æ•°åˆ™ä½¿ç”¨å®ƒï¼Œå¦åˆ™æŒ‰å­—æ¯è¡¨é¡ºåºæ¯”è¾ƒ
function sortrows(table, n, comparator) {
    var tbody = table.tBodies[0]; //ç¬¬ä¸€ä¸ªï¼œtbodyï¼ï¼Œå¯èƒ½æ˜¯éšå¼åˆ›å»ºçš„
    var rows = tbody.getElementsByTagName("tr"); //tbodyä¸­çš„æ‰€æœ‰è¡Œ
    rows = Array.prototype.slice.call(rows, 0); //çœŸå®æ•°ç»„ä¸­çš„å¿«ç…§
    //åŸºäºç¬¬nä¸ªï¼œtdï¼å…ƒç´ çš„å€¼å¯¹è¡Œæ’åº
    rows.sort(function (row1, row2) {
        var cell1 = row1.getElementsByTagName("td")[n]; //è·å¾—ç¬¬nä¸ªå•å…ƒæ ¼
        var cell2 = row2.getElementsByTagName("td")[n]; //ä¸¤è¡Œéƒ½æ˜¯
        var val1 = cell1.textContent || cell1.innerText; //è·å¾—æ–‡æœ¬å†…å®¹
        var val2 = cell2.textContent || cell2.innerText; //ä¸¤å•å…ƒæ ¼éƒ½æ˜¯
        if (comparator) return comparator(val1, val2); //è¿›è¡Œæ¯”è¾ƒ
        if (val1 < val2) {
            return -1;
        } else if (val1 > val2) {
            return 1;
        } else {
            return 0;
        }
    }); //åœ¨tbodyä¸­æŒ‰å®ƒä»¬çš„é¡ºåºæŠŠè¡Œæ·»åŠ åˆ°æœ€å
    //è¿™å°†è‡ªåŠ¨æŠŠå®ƒä»¬ä»å½“å‰ä½ç½®ç§»èµ°ï¼Œæ•…æ²¡å¿…è¦é¢„å…ˆåˆ é™¤å®ƒä»¬
    //å¦‚æœï¼œtbodyï¼è¿˜åŒ…å«äº†é™¤äº†ï¼œtrï¼çš„ä»»ä½•å…¶ä»–å…ƒç´ ï¼Œè¿™äº›èŠ‚ç‚¹å°†ä¼šæ‚¬æµ®åˆ°é¡¶éƒ¨ä½ç½®
    for (var i = 0; i < rows.length; i++) tbody.appendChild(rows[i]);
}
//æŸ¥æ‰¾è¡¨æ ¼çš„ï¼œthï¼å…ƒç´ ï¼ˆå‡è®¾åªæœ‰ä¸€è¡Œï¼‰ï¼Œè®©å®ƒä»¬å¯å•å‡»ï¼Œ
//ä»¥ä¾¿å•å‡»åˆ—æ ‡é¢˜ï¼ŒæŒ‰è¯¥åˆ—å¯¹è¡Œæ’åº
function makeSortable(table) {
    var headers = table.getElementsByTagName("th");
    for (var i = 0; i < headers.length; i++) {
        (function (n) { //åµŒå¥—å‡½æ•°æ¥åˆ›å»ºæœ¬åœ°ä½œç”¨åŸŸ
            headers[i].onclick = function () {
                sortrows(table, n);
            };
        }(i)); //å°†içš„å€¼èµ‹ç»™å±€éƒ¨å˜é‡n
    }
}
```
**[â¬† back to top](#readme)**
## ç”Ÿæˆç›®å½•è¡¨
```js
/**
 *
 *è¿™ä¸ªæ¨¡å—æ³¨å†Œä¸€ä¸ªå¯åœ¨é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨è¿è¡Œçš„åŒ¿åå‡½æ•°ã€‚å½“æ‰§è¡Œè¿™ä¸ªå‡½æ•°æ—¶ä¼šå»æ–‡æ¡£ä¸­æŸ¥æ‰¾
 *idä¸º"TOC"çš„å…ƒç´ ã€‚å¦‚æœè¿™ä¸ªå…ƒç´ ä¸å­˜åœ¨ï¼Œå°±åˆ›å»ºä¸€ä¸ªå…ƒç´ 
 *
 *ç”Ÿæˆçš„TOCç›®å½•åº”å½“å…·æœ‰è‡ªå·±çš„CSSæ ·å¼ã€‚æ•´ä¸ªç›®å½•åŒºåŸŸçš„æ ·å¼classNameè®¾ç½®ä¸º"TOCEntry"
 *åŒæ ·æˆ‘ä»¬ä¸ºä¸åŒå±‚çº§çš„ç›®å½•æ ‡é¢˜å®šä¹‰ä¸åŒçš„æ ·å¼ã€‚ï¼œh1ï¼æ ‡ç­¾ç”Ÿæˆçš„æ ‡é¢˜
 *classNameä¸º"TOCLevel1"ï¼Œï¼œh2ï¼æ ‡ç­¾ç”Ÿæˆçš„æ ‡é¢˜classNameä¸º"TOCLevel2"ï¼Œä»¥æ­¤ç±»æ¨
 *æ®µç¼–å·çš„æ ·å¼ä¸º"TOCSectNum"
 *
 *å®Œæ•´çš„CSSæ ·å¼ä»£ç å¦‚ä¸‹:
 *
 *#TOC{border:solid black 1px;margin:10px;padding:10px;}
 *.TOCEntry{font-family:sans-serif;}
 *.TOCEntry a{text-decoration:none;}
 *.TOCLevel1{font-size:16pt;font-weight:bold;}
 *.TOCLevel2{font-size:12pt;margin-left:.5in;}
 *.TOCSectNum:after{content:":";}
 *
 *è¿™æ®µä»£ç çš„æœ€åä¸€è¡Œè¡¨ç¤ºæ¯ä¸ªæ®µç¼–å·ä¹‹åéƒ½æœ‰ä¸€ä¸ªå†’å·å’Œç©ºæ ¼ç¬¦ã€‚è¦æƒ³éšè—æ®µç¼–å·ï¼Œ
 *è¯·ä½¿ç”¨è¿™è¡Œä»£ç ï¼š
 *.TOCSectNum{display:none}
 *
 **/
(function () { //åŒ¿åå‡½æ•°å®šä¹‰äº†ä¸€ä¸ªå±€éƒ¨ä½œç”¨åŸŸ
    //æŸ¥æ‰¾TOCå®¹å™¨å…ƒç´ 
    //å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åœ¨æ–‡æ¡£å¼€å¤´å¤„åˆ›å»ºä¸€ä¸ª
    var toc = document.getElementById("TOC");
    if (!toc) {
        toc = document.createElement("div");
        toc.id = "TOC";
        document.body.insertBefore(toc, document.body.firstChild);
    }
    //æŸ¥æ‰¾æ‰€æœ‰çš„æ ‡é¢˜å…ƒç´ 
    var headings;
    if (document.querySelectorAll) //æˆ‘ä»¬æ˜¯å¦èƒ½ç”¨è¿™ä¸ªç®€å•çš„æ–¹æ³•ï¼Ÿ
        headings = document.querySelectorAll("h1,h2,h3,h4,h5,h6");
    else //å¦åˆ™ï¼ŒæŸ¥æ‰¾æ–¹æ³•ç¨å¾®éº»çƒ¦ä¸€äº›
        headings = findHeadings(document.body, []); //é€’å½’éå†documentçš„bodyï¼ŒæŸ¥æ‰¾æ ‡é¢˜å…ƒç´ 
    function findHeadings(root, sects) {
        for (var c = root.firstChild; c != null; c = c.nextSibling) {
            if (c.nodeType !== 1) continue;
            if (c.tagName.length == 2 && c.tagName.charAt(0) == "H")
                sects.push(c);
            else
                findHeadings(c, sects);
        }
        return sects;
    }
    //åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„æ¥ä¿æŒè·Ÿè¸ªç« èŠ‚å·
    var sectionNumbers = [0, 0, 0, 0, 0, 0]; //ç°åœ¨ï¼Œå¾ªç¯å·²æ‰¾åˆ°çš„æ ‡é¢˜å…ƒç´ 
    for (var h = 0; h < headings.length; h++) {
        var heading = headings[h]; //è·³è¿‡åœ¨TOCå®¹å™¨ä¸­çš„æ ‡é¢˜å…ƒç´ 
        if (heading.parentNode == toc) continue; //åˆ¤å®šæ ‡é¢˜çš„çº§åˆ«
        var level = parseInt(heading.tagName.charAt(1));
        if (isNaN(level) || level < 1 || level > 6) continue; //å¯¹äºè¯¥æ ‡é¢˜çº§åˆ«å¢åŠ sectionNumberså¯¹åº”çš„æ•°å­—
        //é‡ç½®æ‰€æœ‰æ ‡é¢˜æ¯”å®ƒçº§åˆ«ä½çš„æ•°å­—ä¸ºé›¶
        sectionNumbers[level - 1]++;
        for (var i = level; i < 6; i++) sectionNumbers[i] = 0; //ç°åœ¨ï¼Œå°†æ‰€æœ‰æ ‡é¢˜çº§åˆ«çš„ç« èŠ‚å·ç»„åˆäº§ç”Ÿä¸€ä¸ªç« èŠ‚å·ï¼Œ å¦‚2 .3 .1
        var sectionNumber = sectionNumbers.slice(0, level).join(".") //ä¸ºæ ‡é¢˜çº§åˆ«å¢åŠ ç« èŠ‚å·
        //æŠŠæ•°å­—æ”¾åœ¨ï¼œspanï¼ä¸­ï¼Œä½¿å¾—å…¶å¯ä»¥ç”¨æ ·å¼ä¿®é¥°
        var span = document.createElement("span");
        span.className = "TOCSectNum";
        span.innerHTML = sectionNumber;
        heading.insertBefore(span, heading.firstChild); //ç”¨å‘½åçš„é”šç‚¹å°†æ ‡é¢˜åŒ…èµ·æ¥ï¼Œä»¥ä¾¿ä¸ºå®ƒå¢åŠ é“¾æ¥
        var anchor = document.createElement("a");
        anchor.name = "TOC" + sectionNumber;
        heading.parentNode.insertBefore(anchor, heading);
        anchor.appendChild(heading); //ç°åœ¨ä¸ºè¯¥èŠ‚åˆ›å»ºä¸€ä¸ªé“¾æ¥
        var link = document.createElement("a");
        link.href = "#TOC" + sectionNumber; //é“¾æ¥çš„ç›®æ ‡åœ°å€
        link.innerHTML = heading.innerHTML; //é“¾æ¥æ–‡æœ¬ä¸å®é™…æ ‡é¢˜ä¸€è‡´
        //å°†é“¾æ¥æ”¾åœ¨ä¸€ä¸ªdivä¸­ï¼Œdivç”¨åŸºäºçº§åˆ«åå­—çš„æ ·å¼ä¿®é¥°
        var entry = document.createElement("div");
        entry.className = "TOCEntry TOCLevel" + level;
        entry.appendChild(link); //è¯¥divæ·»åŠ åˆ°TOCå®¹å™¨ä¸­
        toc.appendChild(entry);
    }
}());
```
**[â¬† back to top](#readme)**
## ä»URLè§£æå‚æ•°

```js
/*
 *è¿™ä¸ªå‡½æ•°ç”¨æ¥è§£ææ¥è‡ªURLçš„æŸ¥è¯¢ä¸²ä¸­çš„name=valueå‚æ•°å¯¹
 *å®ƒå°†name=valueå¯¹å­˜å‚¨åœ¨ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ä¸­ï¼Œå¹¶è¿”å›è¯¥å¯¹è±¡
 *è¿™æ ·æ¥ä½¿ç”¨å®ƒ
 *
 *var args=urlArgs();//ä»URLä¸­è§£æå‚æ•°
 *var q=args.q||"";//å¦‚æœå‚æ•°å®šä¹‰äº†çš„è¯å°±ä½¿ç”¨å‚æ•°ï¼›å¦åˆ™ä½¿ç”¨ä¸€ä¸ªé»˜è®¤å€¼
 *var n=args.n?parseInt(args.n):10;
 */
function urlArgs() {
    var args = {}; //å®šä¹‰ä¸€ä¸ªç©ºå¯¹è±¡
    var query = location.search.substring(1); //æŸ¥æ‰¾åˆ°æŸ¥è¯¢ä¸²ï¼Œå¹¶å»æ‰'?'
    var pairs = query.split("&"); //æ ¹æ®"&"ç¬¦å·å°†æŸ¥è¯¢å­—ç¬¦ä¸²åˆ†éš”å¼€
    for (var i = 0; i < pairs.length; i++) { //å¯¹äºæ¯ä¸ªç‰‡æ®µ
        var pos = pairs[i].indexOf('='); //æŸ¥æ‰¾"name=value"
        if (pos == -1) continue; //å¦‚æœæ²¡æœ‰æ‰¾åˆ°çš„è¯ï¼Œå°±è·³è¿‡
        var name = pairs[i].substring(0, pos); //æå–name
        var value = pairs[i].substring(pos + 1); //æå–value
        value = decodeURIComponent(value); //å¯¹valueè¿›è¡Œè§£ç 
        args[name] = value; //å­˜å‚¨ä¸ºå±æ€§
    }
    return args; //è¿”å›è§£æåçš„å‚æ•°
}
```
**[â¬† back to top](#readme)**

## è·å–çº¯æ–‡æœ¬çš„å…ƒç´ å†…å®¹

```js
/**
 *ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›å…ƒç´ çš„textContentæˆ–innerText
 *ä¸¤ä¸ªå‚æ•°ï¼Œç”¨valueå‚æ•°çš„å€¼è®¾ç½®å…ƒç´ çš„textContentæˆ–innerText
 */
function textContent(element, value) {
    var content = element.textContent; //æ£€æµ‹textContentæ˜¯å¦æœ‰å®šä¹‰
    if (value === undefined) { //æ²¡ä¼ é€’valueï¼Œå› æ­¤è¿”å›å½“å‰æ–‡æœ¬
        if (content !== undefined) {
            return content;
        } else {
            return element.innerText;
        }
    } else { //ä¼ é€’äº†valueï¼Œå› æ­¤è®¾ç½®æ–‡æœ¬
        if (content !== undefined) {
            element.textContent = value;
        } else {
            element.innerText = value;
        }
    }
}
```
**[â¬† back to top](#readme)**
## æ‰‹å†™ä¸€ä¸ªJSONPå®ç°

```js
//æ ¹æ®æŒ‡å®šçš„URLå‘é€ä¸€ä¸ªJSONPè¯·æ±‚
//ç„¶åæŠŠè§£æå¾—åˆ°çš„å“åº”æ•°æ®ä¼ é€’ç»™å›è°ƒå‡½æ•°
//åœ¨URLä¸­æ·»åŠ ä¸€ä¸ªåä¸ºjsonpçš„æŸ¥è¯¢å‚æ•°ï¼Œç”¨äºæŒ‡å®šè¯¥è¯·æ±‚çš„å›è°ƒå‡½æ•°çš„åç§°
function getJSONP(url, callback) { //ä¸ºæœ¬æ¬¡è¯·æ±‚åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„å›è°ƒå‡½æ•°åç§°
    var cbnum = "cb" + getJSONP.counter++; //æ¯æ¬¡è‡ªå¢è®¡æ•°å™¨
    var cbname = "getJSONP." + cbnum; //ä½œä¸ºJSONPå‡½æ•°çš„å±æ€§
    //å°†å›è°ƒå‡½æ•°åç§°ä»¥è¡¨å•ç¼–ç çš„å½¢å¼æ·»åŠ åˆ°URLçš„æŸ¥è¯¢éƒ¨åˆ†ä¸­
    //ä½¿ç”¨jsonpä½œä¸ºå‚æ•°åï¼Œä¸€äº›æ”¯æŒJSONPçš„æœåŠ¡
    //å¯èƒ½ä½¿ç”¨å…¶ä»–çš„å‚æ•°åï¼Œæ¯”å¦‚callback
    if (url.indexOf("?") === -1) //URLæ²¡æœ‰æŸ¥è¯¢éƒ¨åˆ†
        url += "?jsonp=" + cbname; //ä½œä¸ºæŸ¥è¯¢éƒ¨åˆ†æ·»åŠ å‚æ•°
    else //å¦åˆ™
        url += "ï¼†jsonp=" + cbname; //ä½œä¸ºæ–°çš„å‚æ•°æ·»åŠ å®ƒ
    //åˆ›å»ºscriptå…ƒç´ ç”¨äºå‘é€è¯·æ±‚
    var script = document.createElement("script"); //å®šä¹‰å°†è¢«è„šæœ¬æ‰§è¡Œçš„å›è°ƒå‡½æ•°
    getJSONP[cbnum] = function (response) {
        try {
            callback(response); //å¤„ç†å“åº”æ•°æ®
        } finally { //å³ä½¿å›è°ƒå‡½æ•°æˆ–å“åº”æŠ›å‡ºé”™è¯¯
            delete getJSONP[cbnum]; //åˆ é™¤è¯¥å‡½æ•°
            script.parentNode.removeChild(script); //ç§»é™¤scriptå…ƒç´ 
        }
    }; //ç«‹å³è§¦å‘HTTPè¯·æ±‚
    script.src = url; //è®¾ç½®è„šæœ¬çš„URL
    document.body.appendChild(script); //æŠŠå®ƒæ·»åŠ åˆ°æ–‡æ¡£ä¸­
}
getJSONP.counter = 0; //ç”¨äºåˆ›å»ºå”¯ä¸€å›è°ƒå‡½æ•°åç§°çš„è®¡æ•°å™¨
```
**[â¬† back to top](#readme)**
## æ’å…¥èŠ‚ç‚¹

```js
//å°†childèŠ‚ç‚¹æ’å…¥åˆ°parentä¸­ï¼Œä½¿å…¶æˆä¸ºç¬¬nä¸ªå­èŠ‚ç‚¹
function insertAt(parent, child, n) {
    if (n < 0 || n > parent.childNodes.length) {
        throw new Error("invalid index");
    } else if (n == parent.childNodes.length) {
        parent.appendChild(child);
    } else {
        parent.insertBefore(child, parent.childNodes[n]);
    }
}
```
**[â¬† back to top](#readme)**
## ä½¿ç”¨innerHTMLå®ç°outerHTMLå±æ€§
```js
//ä¸ºé‚£äº›ä¸æ”¯æŒå®ƒçš„æµè§ˆå™¨å®ç°outerHTMLå±æ€§
//å‡è®¾æµè§ˆå™¨ç¡®å®æ”¯æŒinnerHTMLï¼Œå¹¶æœ‰ä¸ªå¯æ‰©å±•çš„Element.prototypeï¼Œ
//å¹¶ä¸”å¯ä»¥å®šä¹‰getterå’Œsetter
(function () { //å¦‚æœouterHTMLå­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›
    if (document.createElement("div").outerHTML) return; //è¿”å›thisæ‰€å¼•ç”¨å…ƒç´ çš„å¤–éƒ¨HTML
    function outerHTMLGetter() {
        var container = document.createElement("div"); //è™šæ‹Ÿå…ƒç´ 
        container.appendChild(this.cloneNode(true)); //å¤åˆ¶åˆ°è¯¥è™šæ‹ŸèŠ‚ç‚¹
        return container.innerHTML; //è¿”å›è™šæ‹ŸèŠ‚ç‚¹çš„innerHTML
    }
    //ç”¨æŒ‡å®šçš„å€¼è®¾ç½®å…ƒç´ çš„å¤–éƒ¨HTML
    function outerHTMLSetter(value) { //åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿå…ƒç´ ï¼Œè®¾ç½®å…¶å†…å®¹ä¸ºæŒ‡å®šçš„å€¼
        var container = document.createElement("div");
        container.innerHTML = value; //å°†è™šæ‹Ÿå…ƒç´ ä¸­çš„èŠ‚ç‚¹å…¨éƒ¨ç§»åŠ¨åˆ°æ–‡æ¡£ä¸­
        while (container.firstChild) //å¾ªç¯ï¼Œç›´åˆ°containeræ²¡æœ‰å­èŠ‚ç‚¹ä¸ºæ­¢
            this.parentNode.insertBefore(container.firstChild, this); //åˆ é™¤æ‰€è¢«å–ä»£çš„èŠ‚ç‚¹
        this.parentNode.removeChild(this);
    }
    //ç°åœ¨ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°ä½œä¸ºæ‰€æœ‰Elementå¯¹è±¡çš„outerHTMLå±æ€§çš„getterå’Œsetter
    //å¦‚æœå®ƒå­˜åœ¨åˆ™ä½¿ç”¨ES5çš„Object.defineProperty()æ–¹æ³•ï¼Œ
    //å¦åˆ™ï¼Œé€€è€Œæ±‚å…¶æ¬¡ï¼Œä½¿ç”¨__defineGetter__()å’Œ__defineSetter__()
    if (Object.defineProperty) {
        Object.defineProperty(Element.prototype, "outerHTML", {
            get: outerHTMLGetter,
            set: outerHTMLSetter,
            enumerable: false,
            configurable: true
        });
    } else {
        Element.prototype.__defineGetter__("outerHTML", outerHTMLGetter);
        Element.prototype.__defineSetter__("outerHTML", outerHTMLSetter);
    }
}());
```
**[â¬† back to top](#readme)**
## å€’åºæ’åˆ—å­èŠ‚ç‚¹
```js
//å€’åºæ’åˆ—èŠ‚ç‚¹nçš„å­èŠ‚ç‚¹
function reverse(n) { //åˆ›å»ºä¸€ä¸ªDocumentFragmentä½œä¸ºä¸´æ—¶å®¹å™¨
    var f = document.createDocumentFragment(); //ä»åè‡³å‰å¾ªç¯å­èŠ‚ç‚¹ï¼Œå°†æ¯ä¸€ä¸ªå­èŠ‚ç‚¹ç§»åŠ¨åˆ°æ–‡æ¡£ç‰‡æ®µä¸­
    //nçš„æœ€åä¸€ä¸ªèŠ‚ç‚¹å˜æˆfçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåä¹‹äº¦ç„¶
    //æ³¨æ„ï¼Œç»™fæ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹è‡ªåŠ¨åœ°ä¼šä»nä¸­åˆ é™¤
    while (n.lastChild) f.appendChild(n.lastChild); //æœ€åï¼ŒæŠŠfçš„æ‰€æœ‰å­èŠ‚ç‚¹ä¸€æ¬¡æ€§å…¨éƒ¨ç§»å›nä¸­
    n.appendChild(f);
}
```
**[â¬† back to top](#readme)**
## æŸ¥è¯¢çª—å£æ»šåŠ¨æ¡çš„ä½ç½®
```js
//ä»¥ä¸€ä¸ªå¯¹è±¡çš„xå’Œyå±æ€§çš„æ–¹å¼è¿”å›æ»šåŠ¨æ¡çš„åç§»é‡
function getScrollOffsets(w) { //ä½¿ç”¨æŒ‡å®šçš„çª—å£ï¼Œå¦‚æœä¸å¸¦å‚æ•°åˆ™ä½¿ç”¨å½“å‰çª—å£
    w = w || window; //é™¤äº†IE 8åŠæ›´æ—©çš„ç‰ˆæœ¬ä»¥å¤–ï¼Œå…¶ä»–æµè§ˆå™¨éƒ½èƒ½ç”¨
    if (w.pageXOffset != null) return {
        x: w.pageXOffset,
        y: w.pageYOffset
    }; //å¯¹æ ‡å‡†æ¨¡å¼ä¸‹çš„IEï¼ˆæˆ–ä»»ä½•æµè§ˆå™¨ï¼‰
    var d = w.document;
    if (document.compatMode == "CSS1Compat")
        return {
            x: d.documentElement.scrollLeft,
            y: d.documentElement.scrollTop
        }; //å¯¹æ€ªå¼‚æ¨¡å¼ä¸‹çš„æµè§ˆå™¨
    return {
        x: d.body.scrollLeft,
        y: d.body.scrollTop
    };
}
```
**[â¬† back to top](#readme)**
## æŸ¥è¯¢çª—å£çš„è§†å£å°ºå¯¸
```js
//ä½œä¸ºä¸€ä¸ªå¯¹è±¡çš„wå’Œhå±æ€§è¿”å›è§†å£çš„å°ºå¯¸
function getViewportSize(w) { //ä½¿ç”¨æŒ‡å®šçš„çª—å£ï¼Œå¦‚æœä¸å¸¦å‚æ•°åˆ™ä½¿ç”¨å½“å‰çª—å£
    w = w || window; //é™¤äº†IE 8åŠæ›´æ—©çš„ç‰ˆæœ¬ä»¥å¤–ï¼Œå…¶ä»–æµè§ˆå™¨éƒ½èƒ½ç”¨
    if (w.innerWidth != null) return {
        w: w.innerWidth,
        h: w.innerHeight
    }; //å¯¹æ ‡å‡†æ¨¡å¼ä¸‹çš„IEï¼ˆæˆ–ä»»ä½•æµè§ˆå™¨ï¼‰
    var d = w.document;
    if (document.compatMode == "CSS1Compat")
        return {
            w: d.documentElement.clientWidth,
            h: d.documentElement.clientHeight
        }; //å¯¹æ€ªå¼‚æ¨¡å¼ä¸‹çš„æµè§ˆå™¨
    return {
        w: d.body.clientWidth,
        h: d.body.clientWidth
    };
}
```
**[â¬† back to top](#readme)**
## è¿”å›å‡½æ•°çš„åå­—
```js
Function.prototype.getName = function () {
    return this.name || this.toString().match(/function\s*(\w*)\s*\(/)[1];
}
```
**[â¬† back to top](#readme)**
## åŸç”ŸJSå®ç°CSSåŠ¨ç”»1
```js
//å°†eè½¬åŒ–ä¸ºç›¸å¯¹å®šä½çš„å…ƒç´ ï¼Œä½¿ä¹‹å·¦å³"éœ‡åŠ¨"
//ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯å…ƒç´ å¯¹è±¡æˆ–è€…å…ƒç´ çš„id
//å¦‚æœç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼Œä»¥eä¸ºå‚æ•°ï¼Œå®ƒå°†åœ¨åŠ¨ç”»ç»“æŸæ—¶è°ƒç”¨
//ç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å®šeéœ‡åŠ¨çš„è·ç¦»ï¼Œé»˜è®¤æ˜¯5åƒç´ 
//ç¬¬å››ä¸ªå‚æ•°æŒ‡å®šéœ‡åŠ¨å¤šä¹…ï¼Œé»˜è®¤æ˜¯500æ¯«ç§’
function shake(e, oncomplete, distance, time) { //å¥æŸ„å‚æ•°
    if (typeof e === "string") e = document.getElementById(e);
    if (!time) time = 500;
    if (!distance) distance = 5;
    var originalStyle = e.style.cssText; //ä¿å­˜eçš„åŸå§‹style
    e.style.position = "relative"; //ä½¿eç›¸å¯¹å®šä½
    var start = (new Date()).getTime(); //æ³¨æ„ï¼ŒåŠ¨ç”»çš„å¼€å§‹æ—¶é—´
    animate(); //åŠ¨ç”»å¼€å§‹
    //å‡½æ•°æ£€æŸ¥æ¶ˆè€—çš„æ—¶é—´ï¼Œå¹¶æ›´æ–°eçš„ä½ç½®
    //å¦‚æœåŠ¨ç”»å®Œæˆï¼Œå®ƒå°†eè¿˜åŸä¸ºåŸå§‹çŠ¶æ€
    //å¦åˆ™ï¼Œå®ƒæ›´æ–°eçš„ä½ç½®ï¼Œå®‰æ’å®ƒè‡ªèº«é‡æ–°è¿è¡Œ
    function animate() {
        var now = (new Date()).getTime(); //å¾—åˆ°å½“å‰æ—¶é—´
        var elapsed = now - start; //ä»å¼€å§‹ä»¥æ¥æ¶ˆè€—äº†å¤šé•¿æ—¶é—´ï¼Ÿ
        var fraction = elapsed / time; //æ˜¯æ€»æ—¶é—´çš„å‡ åˆ†ä¹‹å‡ ï¼Ÿ
        if (fraction < 1) { //å¦‚æœåŠ¨ç”»æœªå®Œæˆ
            //ä½œä¸ºåŠ¨ç”»å®Œæˆæ¯”ä¾‹çš„å‡½æ•°ï¼Œè®¡ç®—eçš„xä½ç½®
            //ä½¿ç”¨æ­£å¼¦å‡½æ•°å°†å®Œæˆæ¯”ä¾‹ä¹˜ä»¥4pi
            //æ‰€ä»¥ï¼Œå®ƒæ¥å›å¾€å¤ä¸¤æ¬¡
            var x = distance * Math.sin(fraction * 4 * Math.PI);
            e.style.left = x + "px"; //åœ¨25æ¯«ç§’åæˆ–åœ¨æ€»æ—¶é—´çš„æœ€åå°è¯•å†æ¬¡è¿è¡Œå‡½æ•°
            //ç›®çš„æ˜¯ä¸ºäº†äº§ç”Ÿæ¯ç§’40å¸§çš„åŠ¨ç”»
            setTimeout(animate, Math.min(25, time - elapsed));
        } else { //å¦åˆ™ï¼ŒåŠ¨ç”»å®Œæˆ
            e.style.cssText = originalStyle //æ¢å¤åŸå§‹æ ·å¼
            if (oncomplete) oncomplete(e); //è°ƒç”¨å®Œæˆåçš„å›è°ƒå‡½æ•°
        }
    }
}
```
**[â¬† back to top](#readme)**
## åŸç”ŸJSå®ç°CSSåŠ¨ç”»2
```js
function fadeOut(e, oncomplete, time) {
    if (typeof e === "string") e = document.getElementById(e);
    if (!time) time = 500; //ä½¿ç”¨Math.sqrtä½œä¸ºä¸€ä¸ªç®€å•çš„â€œç¼“åŠ¨å‡½æ•°â€æ¥åˆ›å»ºåŠ¨ç”»
    //ç²¾å·§çš„éçº¿æ€§ï¼šä¸€å¼€å§‹æ·¡å‡ºå¾—æ¯”è¾ƒå¿«ï¼Œç„¶åç¼“æ…¢äº†ä¸€äº›
    var ease = Math.sqrt;
    var start = (new Date()).getTime(); //æ³¨æ„ï¼šåŠ¨ç”»å¼€å§‹çš„æ—¶é—´
    animate(); //åŠ¨ç”»å¼€å§‹
    function animate() {
        var elapsed = (new Date()).getTime() - start; //æ¶ˆè€—çš„æ—¶é—´
        var fraction = elapsed / time; //æ€»æ—¶é—´çš„å‡ åˆ†ä¹‹å‡ ï¼Ÿ
        if (fraction < 1) { //å¦‚æœåŠ¨ç”»æœªå®Œæˆ
            var opacity = 1 - ease(fraction); //è®¡ç®—å…ƒç´ çš„ä¸é€æ˜åº¦
            e.style.opacity = String(opacity); //è®¾ç½®åœ¨eä¸Š
            setTimeout(animate, //è°ƒåº¦ä¸‹ä¸€å¸§
                Math.min(25, time - elapsed));
        } else { //å¦åˆ™ï¼ŒåŠ¨ç”»å®Œæˆ
            e.style.opacity = "0"; //ä½¿eå®Œå…¨é€æ˜
            if (oncomplete) oncomplete(e); //è°ƒç”¨å®Œæˆåçš„å›è°ƒå‡½æ•°
        }
    }
}
```
**[â¬† back to top](#readme)**
## ä»¿HTML5çš„classListå±æ€§
```js
/*
 *å¦‚æœeæœ‰classListå±æ€§åˆ™è¿”å›å®ƒã€‚å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªä¸ºeæ¨¡æ‹ŸDOMTokenList APIçš„å¯¹è±¡
 *è¿”å›çš„å¯¹è±¡æœ‰contains()ã€add()ã€remove()ã€toggle()å’ŒtoString()ç­‰æ–¹æ³•
 *æ¥æ£€æµ‹å’Œä¿®æ”¹å…ƒç´ eçš„ç±»é›†åˆã€‚å¦‚æœclassListå±æ€§æ˜¯åŸç”Ÿæ”¯æŒçš„ï¼Œ
 *è¿”å›çš„ç±»æ•°ç»„å¯¹è±¡æœ‰lengthå’Œæ•°ç»„ç´¢å¼•å±æ€§ã€‚æ¨¡æ‹ŸDOMTokenListä¸æ˜¯ç±»æ•°ç»„å¯¹è±¡ï¼Œ
 *ä½†æ˜¯å®ƒæœ‰ä¸€ä¸ªtoArray()æ–¹æ³•æ¥è¿”å›ä¸€ä¸ªå«å…ƒç´ ç±»åçš„çº¯æ•°ç»„å¿«ç…§
 */
function classList(e) {
    if (e.classList) return e.classList; //å¦‚æœe.classListå­˜åœ¨ï¼Œåˆ™è¿”å›å®ƒ
    else return new CSSClassList(e); //å¦åˆ™ï¼Œå°±ä¼ªé€ ä¸€ä¸ª
}
//CSSClassListæ˜¯ä¸€ä¸ªæ¨¡æ‹ŸDOMTokenListçš„JavaScriptç±»
function CSSClassList(e) {
    this.e = e;
} //å¦‚æœe.classNameåŒ…å«ç±»åcåˆ™è¿”å›trueå¦åˆ™è¿”å›false
CSSClassList.prototype.contains = function (c) { //æ£€æŸ¥cæ˜¯å¦æ˜¯åˆæ³•çš„ç±»å
    if (c.length === 0 || c.indexOf(" ") != -1)
        throw new Error("Invalid class name:'" + c + "'"); //é¦–å…ˆæ˜¯å¸¸è§„æ£€æŸ¥
    var classes = this.e.className;
    if (!classes) return false; //eä¸å«ç±»å
    if (classes === c) return true; //eæœ‰ä¸€ä¸ªå®Œå…¨åŒ¹é…çš„ç±»å
    //å¦åˆ™ï¼ŒæŠŠcè‡ªèº«çœ‹åšä¸€ä¸ªå•è¯ï¼Œåˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢c
    //\båœ¨æ­£åˆ™è¡¨è¾¾å¼é‡Œä»£è¡¨å•è¯çš„è¾¹ç•Œ
    return classes.search("\\b" + c + "\\b") != -1;
}; //å¦‚æœcä¸å­˜åœ¨ï¼Œå°†cæ·»åŠ åˆ°e.classNameä¸­
CSSClassList.prototype.add = function (c) {
    if (this.contains(c)) return; //å¦‚æœå­˜åœ¨ï¼Œä»€ä¹ˆéƒ½ä¸åš
    var classes = this.e.className;
    if (classes && classes[classes.length - 1] != "")
        c = "" + c; //å¦‚æœéœ€è¦åŠ ä¸€ä¸ªç©ºæ ¼
    this.e.className += c; //å°†cæ·»åŠ åˆ°classNameä¸­
}; //å°†åœ¨e.classNameä¸­å‡ºç°çš„æ‰€æœ‰céƒ½åˆ é™¤
CSSClassList.prototype.remove = function (c) { //æ£€æŸ¥cæ˜¯å¦æ˜¯åˆæ³•çš„ç±»å
    if (c.length === 0 || c.indexOf(" ") != -1)
        throw new Error("Invalid class name:'" + c + "'"); //å°†æ‰€æœ‰ä½œä¸ºå•è¯çš„cå’Œå¤šä½™çš„å°¾éšç©ºæ ¼å…¨éƒ¨åˆ é™¤
    var pattern = new RegExp("\\b" + c + "\\b\\s*", "g");
    this.e.className = this.e.className.replace(pattern, "");
}; //å¦‚æœcä¸å­˜åœ¨ï¼Œå°†cæ·»åŠ åˆ°e.classNameä¸­ï¼Œå¹¶è¿”å›true
//å¦åˆ™ï¼Œå°†åœ¨e.classNameä¸­å‡ºç°çš„æ‰€æœ‰céƒ½åˆ é™¤ï¼Œå¹¶è¿”å›false
CSSClassList.prototype.toggle = function (c) {
    if (this.contains(c)) { //å¦‚æœe.classNameåŒ…å«c
        this.remove(c); //åˆ é™¤å®ƒ
        return false;
    } else { //å¦åˆ™
        this.add(c); //æ·»åŠ å®ƒ
        return true;
    }
}; //è¿”å›e.classNameæœ¬èº«
CSSClassList.prototype.toString = function () {
    return this.e.className;
}; //è¿”å›åœ¨e.classNameä¸­çš„ç±»å
CSSClassList.prototype.toArray = function () {
    return this.e.className.match(/\b\w+\b/g) || [];
};
```
**[â¬† back to top](#readme)**
## æŸ¥è¯¢çº¯æ–‡æœ¬å½¢å¼çš„å†…å®¹
```js
/**
 *ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›å…ƒç´ çš„textContentæˆ–innerText
 *ä¸¤ä¸ªå‚æ•°ï¼Œç”¨valueå‚æ•°çš„å€¼è®¾ç½®å…ƒç´ çš„textContentæˆ–innerText
 */
function textContent(element, value) {
    var content = element.textContent; //æ£€æµ‹textContentæ˜¯å¦æœ‰å®šä¹‰
    if (value === undefined) { //æ²¡ä¼ é€’valueï¼Œå› æ­¤è¿”å›å½“å‰æ–‡æœ¬
        if (content !== undefined) return content;
        else return element.innerText;
    } else { //ä¼ é€’äº†valueï¼Œå› æ­¤è®¾ç½®æ–‡æœ¬
        if (content !== undefined) element.textContent = value;
        else element.innerText = value;
    }
}
```
textContentå±æ€§åœ¨é™¤äº†IEçš„æ‰€æœ‰å½“å‰çš„æµè§ˆå™¨ä¸­éƒ½æ”¯æŒã€‚åœ¨IEä¸­ï¼Œå¯ä»¥ç”¨Elementçš„innerTextå±æ€§æ¥ä»£æ›¿ã€‚
**[â¬† back to top](#readme)**
## æŸ¥æ‰¾å…ƒç´ çš„åä»£ä¸­èŠ‚ç‚¹ä¸­çš„æ‰€æœ‰TextèŠ‚ç‚¹
```js
//è¿”å›å…ƒç´ eçš„çº¯æ–‡æœ¬å†…å®¹ï¼Œé€’å½’è¿›å…¥å…¶å­å…ƒç´ 
//è¯¥æ–¹æ³•çš„æ•ˆæœç±»ä¼¼äºtextContentå±æ€§
function textContent(e) {
    var child, type, s = ""; //sä¿å­˜æ‰€æœ‰å­èŠ‚ç‚¹çš„æ–‡æœ¬
    for (child = e.firstChild; child != null; child = child.nextSibling) {
        type = child.nodeType;
        if (type === 3 || type === 4) //Textå’ŒCDATASectionèŠ‚ç‚¹
            s += child.nodeValue;
        else if (type === 1) //é€’å½’ElementèŠ‚ç‚¹
            s += textContent(child);
    }
    return s;
}
```
**[â¬† back to top](#readme)**
## ä½¿ç”¨innerHTMLå®ç°insertAdjacentHTML()
```js
//æœ¬æ¨¡å—ä¸ºä¸æ”¯æŒå®ƒçš„æµè§ˆå™¨å®šä¹‰äº†Element.insertAdjacentHTML
//è¿˜å®šä¹‰äº†ä¸€äº›å¯ç§»æ¤çš„HTMLæ’å…¥å‡½æ•°ï¼Œå®ƒä»¬çš„åå­—æ¯”insertAdjacentHTMLæ›´ç¬¦åˆé€»è¾‘ï¼š
//Insert.before()ã€Insert.after()ã€Insert.atStart()å’ŒInsert.atEnd()
var Insert = (function () { //å¦‚æœå…ƒç´ æœ‰åŸç”Ÿçš„insertAdjacentHTMLï¼Œ
    //åœ¨4ä¸ªå‡½æ•°åæ›´æ˜äº†çš„HTMLæ’å…¥å‡½æ•°ä¸­ä½¿ç”¨å®ƒ
    if (document.createElement("div").insertAdjacentHTML) {
        return {
            before: function (e, h) {
                e.insertAdjacentHTML("beforebegin", h);
            },
            after: function (e, h) {
                e.insertAdjacentHTML("afterend", h);
            },
            atStart: function (e, h) {
                e.insertAdjacentHTML("afterbegin", h);
            },
            atEnd: function (e, h) {
                e.insertAdjacentHTML("beforeend", h);
            }
        };
    }
    //å¦åˆ™ï¼Œæ— åŸç”Ÿçš„insertAdjacentHTML
    //å®ç°åŒæ ·çš„4ä¸ªæ’å…¥å‡½æ•°ï¼Œå¹¶ä½¿ç”¨å®ƒä»¬æ¥å®šä¹‰insertAdjacentHTML
    //é¦–å…ˆï¼Œå®šä¹‰ä¸€ä¸ªå·¥å…·å‡½æ•°ï¼Œä¼ å…¥HTMLå­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªDocumentFragmentï¼Œ
    //å®ƒåŒ…å«äº†è§£æåçš„HTMLçš„è¡¨ç¤º
    function fragment(html) {
        var elt = document.createElement("div"); //åˆ›å»ºç©ºå…ƒç´ 
        var frag = document.createDocumentFragment(); //åˆ›å»ºç©ºæ–‡æ¡£ç‰‡æ®µ
        elt.innerHTML = html; //è®¾ç½®å…ƒç´ å†…å®¹
        while (elt.firstChild) //ç§»åŠ¨æ‰€æœ‰çš„èŠ‚ç‚¹
            frag.appendChild(elt.firstChild); //ä»eltåˆ°frag
        return frag; //ç„¶åè¿”å›frag
    }
    var Insert = {
        before: function (elt, html) {
            elt.parentNode.insertBefore(fragment(html), elt);
        },
        after: function (elt, html) {
            elt.parentNode.insertBefore(fragment(html), elt.nextSibling);
        },
        atStart: function (elt, html) {
            elt.insertBefore(fragment(html), elt.firstChild);
        },
        atEnd: function (elt, html) {
            elt.appendChild(fragment(html));
        }
    }; //åŸºäºä»¥ä¸Šå‡½æ•°å®ç°insertAdjacentHTML
    Element.prototype.insertAdjacentHTML = function (pos, html) {
        switch (pos.toLowerCase()) {
            case "beforebegin":
                return Insert.before(this, html);
            case "afterend":
                return Insert.after(this, html);
            case "afterbegin":
                return Insert.atStart(this, html);
            case "beforeend":
                return Insert.atEnd(this, html);
        }
    };
    return Insert; //æœ€åè¿”å›4ä¸ªæ’å…¥å‡½æ•°
}());
```

**[â¬† back to top](#readme)**
## æ‹–æ‹½
```js
/**
 *Drag.jsï¼šæ‹–åŠ¨ç»å¯¹å®šä½çš„HTMLå…ƒç´ 
 *
 *è¿™ä¸ªæ¨¡å—å®šä¹‰äº†ä¸€ä¸ªdrag()å‡½æ•°ï¼Œå®ƒç”¨äºmousedownäº‹ä»¶å¤„ç†ç¨‹åºçš„è°ƒç”¨
 *éšåçš„mousemoveäº‹ä»¶å°†ç§»åŠ¨æŒ‡å®šå…ƒç´ ï¼Œmouseupäº‹ä»¶å°†ç»ˆæ­¢æ‹–åŠ¨
 *è¿™äº›å®ç°èƒ½åŒæ ‡å‡†å’ŒIEä¸¤ç§äº‹ä»¶æ¨¡å‹ä¸€èµ·å·¥ä½œ
 *
 *å‚æ•°ï¼š
 *
 *elementToDragï¼šæ¥æ”¶mousedownäº‹ä»¶çš„å…ƒç´ æˆ–æŸäº›åŒ…å«å…ƒç´ 
 *å®ƒå¿…é¡»æ˜¯å®šä½çš„å…ƒç´ ,å…ƒç´ çš„æ ·å¼å¿…é¡»æ˜¯è¡Œå†…æ ·å¼
 *å®ƒçš„style.leftå’Œstyle.topå€¼å°†éšç€ç”¨æˆ·çš„æ‹–åŠ¨è€Œæ”¹å˜
 *
 *eventï¼šmousedownäº‹ä»¶å¯¹è±¡
 **/
function drag(elementToDrag, event) { //åˆå§‹é¼ æ ‡ä½ç½®ï¼Œè½¬æ¢ä¸ºæ–‡æ¡£åæ ‡
    var startX = event.clientX;
    var startY = event.clientY; //åœ¨æ–‡æ¡£åæ ‡ä¸‹ï¼Œå¾…æ‹–åŠ¨å…ƒç´ çš„åˆå§‹ä½ç½®
    //å› ä¸ºelementToDragæ˜¯ç»å¯¹å®šä½çš„ï¼Œ
    //æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å‡è®¾å®ƒçš„offsetParentå°±æ˜¯æ–‡æ¡£çš„bodyå…ƒç´ 
    var origX = parseFloat(elementToDrag.style.left);
    var origY = parseFloat(elementToDrag.style.top); //è®¡ç®—mousedownäº‹ä»¶å’Œå…ƒç´ å·¦ä¸Šè§’ä¹‹é—´çš„è·ç¦»
    //æˆ‘ä»¬å°†å®ƒå¦å­˜ä¸ºé¼ æ ‡ç§»åŠ¨çš„è·ç¦»
    if (document.addEventListener) { //æ ‡å‡†äº‹ä»¶æ¨¡å‹
        //åœ¨documentå¯¹è±¡ä¸Šæ³¨å†Œæ•è·äº‹ä»¶å¤„ç†ç¨‹åº
        document.addEventListener("mousemove", moveHandler, true);
        document.addEventListener("mouseup", upHandler, true);
    } else if (document.attachEvent) { //ç”¨äºIE5ï½8çš„IEäº‹ä»¶æ¨¡å‹
        //åœ¨IEäº‹ä»¶æ¨¡å‹ä¸­ï¼Œ
        //æ•è·äº‹ä»¶æ˜¯é€šè¿‡è°ƒç”¨å…ƒç´ ä¸Šçš„setCapture()æ•è·å®ƒä»¬
        elementToDrag.setCapture();
        elementToDrag.attachEvent("onmousemove", moveHandler);
        elementToDrag.attachEvent("onmouseup", upHandler); //ä½œä¸ºmouseupäº‹ä»¶çœ‹å¾…é¼ æ ‡æ•è·çš„ä¸¢å¤±
        elementToDrag.attachEvent("onlosecapture", upHandler);
    }
    //æˆ‘ä»¬å¤„ç†äº†è¿™ä¸ªäº‹ä»¶ï¼Œä¸è®©ä»»ä½•å…¶ä»–å…ƒç´ çœ‹åˆ°å®ƒ
    if (event.stopPropagation) event.stopPropagation(); //æ ‡å‡†æ¨¡å‹
    else event.cancelBubble = true; //IE
    //ç°åœ¨é˜»æ­¢ä»»ä½•é»˜è®¤æ“ä½œ
    if (event.preventDefault) event.preventDefault(); //æ ‡å‡†æ¨¡å‹
    else event.returnValue = false; //IE
    /**
     * å½“å…ƒç´ æ­£åœ¨è¢«æ‹–åŠ¨æ—¶ï¼Œ è¿™å°±æ˜¯æ•è·mousemoveäº‹ä»¶çš„å¤„ç†ç¨‹åº
     *å®ƒç”¨äºç§»åŠ¨è¿™ä¸ªå…ƒç´  
     **/
    function moveHandler(e) {
        if (!e) e = window.event; //IEäº‹ä»¶æ¨¡å‹
        //ç§»åŠ¨è¿™ä¸ªå…ƒç´ åˆ°å½“å‰é¼ æ ‡ä½ç½®ï¼Œ
        //é€šè¿‡æ»šåŠ¨æ¡çš„ä½ç½®å’Œåˆå§‹å•å‡»çš„åç§»é‡æ¥è°ƒæ•´
        var targetLeft = e.clientX - startX + origX;
        var targetTop = e.clientY - startY + origY;
        var minLeft = 0;
        var minTop = 0;
        var maxLeft = (document.documentElement.clientWidth || document.body.clientWidth) - elementToDrag.offsetWidth;
        var maxTop = (document.documentElement.clientHeight || document.body.clientHeight) - elementToDrag.offsetHeight;
        targetLeft = targetLeft > maxLeft ? maxLeft : (targetLeft < minLeft ? minLeft : targetLeft);
        targetTop = targetTop > maxTop ? maxTop : (targetTop < minTop ? minTop : targetTop);
        elementToDrag.style.left = targetLeft + "px";
        elementToDrag.style.top = targetTop + "px";
        if (e.stopPropagation) e.stopPropagation(); //æ ‡å‡†
        else e.cancelBubble = true; //IE
    }
    /**
     *è¿™æ˜¯æ•è·åœ¨æ‹–åŠ¨ç»“æŸæ—¶å‘ç”Ÿçš„æœ€ç»ˆmouseupäº‹ä»¶çš„å¤„ç†ç¨‹åº
     **/
    function upHandler(e) {
        if (!e) e = window.event; //IEäº‹ä»¶æ¨¡å‹
        //æ³¨é”€æ•è·äº‹ä»¶å¤„ç†ç¨‹åº
        if (document.removeEventListener) { //DOMäº‹ä»¶æ¨¡å‹
            document.removeEventListener("mouseup", upHandler, true);
            document.removeEventListener("mousemove", moveHandler, true);
        } else if (document.detachEvent) { //IE 5+äº‹ä»¶æ¨¡å‹
            elementToDrag.detachEvent("onlosecapture", upHandler);
            elementToDrag.detachEvent("onmouseup", upHandler);
            elementToDrag.detachEvent("onmousemove", moveHandler);
            elementToDrag.releaseCapture();
        }
        //å¹¶ä¸”ä¸è®©äº‹ä»¶è¿›ä¸€æ­¥ä¼ æ’­
        if (e.stopPropagation) e.stopPropagation(); //æ ‡å‡†æ¨¡å‹
        else e.cancelBubble = true; //IE
    }
}
```
**[â¬† back to top](#readme)**
## åœ¨è°·æ­Œåœ°å›¾ä¸Šæ˜¾ç¤ºåœ°ç†ä½ç½®ä¿¡æ¯
```js
//è·å–å½“å‰ä½ç½®ç„¶åé€šè¿‡Googleåœ°å›¾æ˜¾ç¤º
//å¦‚æœå½“å‰æµè§ˆå™¨ä¸æ”¯æŒåœ°ç†ä½ç½®APIï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªé”™è¯¯
function getmap() { //æ£€æŸ¥æ˜¯å¦æ”¯æŒåœ°ç†ä½ç½®API
    if (!navigator.geolocation) throw "Geolocation not supported"; //å¼€å§‹è¯·æ±‚åœ°ç†ä½ç½®ä¿¡æ¯ï¼Œ
    navigator.geolocation.getCurrentPosition(setMapURL);
    function setMapURL(pos) { //ä»å‚æ•°å¯¹è±¡ï¼ˆposï¼‰ä¸­è·å–ä½ç½®ä¿¡æ¯
        var latitude = pos.coords.latitude; //ç»åº¦
        var longitude = pos.coords.longitude; //çº¬åº¦
        var accuracy = pos.coords.accuracy; //ç±³
        var scale = 10; //æ¯”ä¾‹
        //æ„é€ ä¸€ä¸ªURLï¼Œç”¨äºè·³è½¬åˆ°Googleåœ°å›¾
        var url = "https://www.google.com/maps/@" + latitude + "," + longitude + "," + scale + "z"; //è®¾ç½®ä¸€ä¸ªå¤§è‡´çš„ç¼©æ”¾çº§åˆ«
        location = url;
    }
}
```
**[â¬† back to top](#readme)**
## ä½¿ç”¨æ‰€æœ‰åœ°ç†ä½ç½®ç‰¹æ€§
```js
//å¼‚æ­¥çš„è·å–æˆ‘çš„ä½ç½®ï¼Œå¹¶åœ¨æŒ‡å®šçš„å…ƒç´ ä¸­å±•ç¤ºå‡ºæ¥
function whereami(elt) { //å°†æ­¤å¯¹è±¡ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™getCurrentPosition()æ–¹æ³•
    var options = { //è®¾ç½®ä¸ºtrueï¼Œè¡¨ç¤ºå¦‚æœå¯ä»¥çš„è¯
        //è·å–é«˜ç²¾åº¦çš„ä½ç½®ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡GPSè·å–ï¼‰
        //ä½†æ˜¯ï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¼šå½±å“ç”µæ± å¯¿å‘½
        enableHighAccuracy: false, //å¯ä»¥è¿‘ä¼¼ï¼šè¿™æ˜¯é»˜è®¤å€¼
        //å¦‚æœè·å–ç¼“å­˜è¿‡çš„ä½ç½®ä¿¡æ¯å°±è¶³å¤Ÿçš„è¯ï¼Œå¯ä»¥è®¾ç½®æ­¤å±æ€§
        //é»˜è®¤å€¼ä¸º0,è¡¨ç¤ºå¼ºåˆ¶æ£€æŸ¥æ–°çš„ä½ç½®ä¿¡æ¯
        maximumAge: 300000, //5åˆ†é’Ÿå·¦å
        //æ„¿æ„ç­‰å¾…å¤šé•¿æ—¶é—´æ¥è·å–ä½ç½®ä¿¡æ¯ï¼Ÿ
        //é»˜è®¤å€¼ä¸ºæ— é™é•¿ [2] ï¼ŒgetCurrentPosition()æ–¹æ³•æ°¸ä¸è¶…æ—¶
        timeout: 15000 //ä¸è¦è¶…è¿‡15ç§’
    };
    if (navigator.geolocation) //å¦‚æœæ”¯æŒçš„è¯ï¼Œå°±è·å–ä½ç½®ä¿¡æ¯
        navigator.geolocation.getCurrentPosition(success, error, options);
    else
        elt.innerHTMl = "Geolocation not supported in this browser"; //å½“è·å–ä½ç½®ä¿¡æ¯å¤±è´¥çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°

    function error(e) { //errorå¯¹è±¡åŒ…å«ä¸€äº›æ•°å­—ç¼–ç å’Œæ–‡æœ¬æ¶ˆæ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
        //1:ç”¨æˆ·ä¸å…è®¸åˆ†äº«ä»–/å¥¹çš„ä½ç½®ä¿¡æ¯
        //2:æµè§ˆå™¨æ— æ³•ç¡®å®šä½ç½®
        //3:å‘ç”Ÿè¶…æ—¶
        elt.innerHTML = "Geolocation error" + e.code + ":" + e.message;
    }
    //å½“è·å–ä½ç½®ä¿¡æ¯æˆåŠŸçš„æ—¶å€™ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°
    function success(pos) { //æ€»æ˜¯å¯ä»¥è·å–å¦‚ä¸‹è¿™äº›å­—æ®µ
        //ä½†æ˜¯è¦æ³¨æ„çš„æ˜¯æ—¶é—´æˆ³ä¿¡æ¯åœ¨outerå¯¹è±¡ä¸­ï¼Œè€Œä¸åœ¨innerã€coordså¯¹è±¡ä¸­
        var msg = "æ—¶é—´æ˜¯" +
            new Date(pos.timestamp).toLocaleString() + "åœ°ç†ä½ç½®æ˜¯" +
            pos.coords.accuracy + "ç±³èŒƒå›´å†…ç»åº¦æ˜¯" +
            pos.coords.latitude + "çº¬åº¦æ˜¯" +
            pos.coords.longitude + "."; //å¦‚æœè®¾å¤‡è¿˜è¿”å›äº†æµ·æ‹”ä¿¡æ¯ï¼Œåˆ™å°†å…¶æ·»åŠ è¿›å»
        if (pos.coords.altitude) {
            msg += "æµ·æ‹”æ˜¯" + pos.coords.altitude + "Â±" +
                pos.coords.altitudeAccuracy + "åƒç±³.";
        }
        //å¦‚æœè®¾å¤‡è¿˜è¿”å›äº†é€Ÿåº¦å’Œèˆªå‘ä¿¡æ¯ï¼Œä¹Ÿå°†å®ƒä»¬æ·»åŠ è¿›å»
        if (pos.coords.speed) {
            msg += "é€Ÿåº¦æ˜¯" +
                pos.coords.speed + "m/sæ–¹å‘æ˜¯" +
                pos.coords.heading + ".";
        }
        elt.innerHTML = msg; //æ˜¾ç¤ºæ‰€æœ‰çš„ä½ç½®ä¿¡æ¯
    }
}
```
**[â¬† back to top](#readme)**
## ä¼˜é›…çš„å›¾ç‰‡ç¿»è½¬å®ç°
```js
/**
 *ä¼˜é›…çš„å›¾ç‰‡ç¿»è½¬å®ç°æ–¹å¼
 *
 *è¦åˆ›å»ºå›¾ç‰‡ç¿»è½¬æ•ˆæœï¼Œå°†æ­¤æ¨¡å—å¼•å…¥åˆ°HTMLæ–‡ä»¶ä¸­
 *ç„¶ååœ¨ä»»æ„ï¼œimgï¼å…ƒç´ ä¸Šä½¿ç”¨data-rolloverå±æ€§æ¥æŒ‡å®šç¿»è½¬å›¾ç‰‡çš„URLå³å¯
 *å¦‚ä¸‹æ‰€ç¤º:
 *
 *<img src="normal_image.png "data-rollover="rollover_image.png">
 *
 */
function changeImage() { //æ‰€æœ‰å¤„ç†é€»è¾‘éƒ½åœ¨ä¸€ä¸ªåŒ¿åå‡½æ•°ä¸­:ä¸å®šä¹‰ä»»ä½•ç¬¦å·
    //éå†æ‰€æœ‰çš„å›¾ç‰‡ï¼ŒæŸ¥æ‰¾data-rolloverå±æ€§
    for (var i = 0; i < document.images.length; i++) {
        var img = document.images[i];
        var rollover = img.getAttribute("data-rollover");
        if (!rollover) continue; //è·³è¿‡æ²¡æœ‰data-rolloverå±æ€§çš„å›¾ç‰‡
        //ç¡®ä¿å°†ç¿»è½¬çš„å›¾ç‰‡ç¼“å­˜èµ·æ¥
        (new Image()).src = rollover; //å®šä¹‰ä¸€ä¸ªå±æ€§æ¥æ ‡è¯†é»˜è®¤çš„å›¾ç‰‡URL
        img.setAttribute("data-rollout", img.src); //æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•°æ¥åˆ›å»ºç¿»è½¬æ•ˆæœ
        img.onmouseover = function () {
            this.src = this.getAttribute("data-rollover");
        };
        img.onmouseout = function () {
            this.src = this.getAttribute("data-rollout");
        };
    }
}
```
**[â¬† back to top](#readme)**
## ä½¿ç”¨canvasç»˜åˆ¶å¤šè¾¹å½¢
```js
//å®šä¹‰ä¸€ä¸ªä»¥(x,y)ä¸ºä¸­å¿ƒï¼ŒåŠå¾„ä¸ºrçš„è§„åˆ™nè¾¹å½¢,cå¯ä»¥é€šè¿‡è°ƒç”¨ç”»å¸ƒgetContext()æ–¹æ³•å¾—åˆ°
//æ¯ä¸ªé¡¶ç‚¹éƒ½æ˜¯å‡åŒ€åˆ†å¸ƒåœ¨åœ†å‘¨ä¸Š
//å°†ç¬¬ä¸€ä¸ªé¡¶ç‚¹æ”¾ç½®åœ¨æœ€ä¸Šé¢ï¼Œæˆ–è€…æŒ‡å®šä¸€å®šè§’åº¦
//é™¤éæœ€åä¸€ä¸ªå‚æ•°æ˜¯trueï¼Œå¦åˆ™é¡ºæ—¶é’ˆæ—‹è½¬
function polygon(c, n, x, y, r, angle, counterclockwise) {
    angle = angle || 0;
    counterclockwise = counterclockwise || false;
    c.moveTo(x + r * Math.sin(angle), //ä»ç¬¬ä¸€ä¸ªé¡¶ç‚¹å¼€å§‹ä¸€æ¡æ–°çš„å­è·¯å¾„
        y - r * Math.cos(angle)); //ä½¿ç”¨ä¸‰è§’æ³•è®¡ç®—ä½ç½®
    var delta = 2 * Math.PI / n; //ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´çš„å¤¹è§’
    for (var i = 1; i < n; i++) { //å¾ªç¯å‰©ä½™çš„æ¯ä¸ªé¡¶ç‚¹
        angle += counterclockwise ? -delta : delta; //è°ƒæ•´è§’åº¦
        c.lineTo(x + r * Math.sin(angle), //ä»¥ä¸‹ä¸ªé¡¶ç‚¹ä¸ºç«¯ç‚¹æ·»åŠ çº¿æ®µ
            y - r * Math.cos(angle));
    }
    c.closePath(); //å°†æœ€åä¸€ä¸ªé¡¶ç‚¹å’Œèµ·ç‚¹è¿æ¥èµ·æ¥
}
```
**[â¬† back to top](#readme)**
## ä½¿ç”¨canvasç»˜åˆ¶é›ªèŠ±
```js
var deg = Math.PI / 180; //ç”¨äºè§’åº¦åˆ¶åˆ°å¼§åº¦åˆ¶çš„è½¬æ¢
//åœ¨ç”»å¸ƒçš„ä¸Šä¸‹æ–‡cä¸­ï¼Œä»¥å·¦ä¸‹è§’çš„ç‚¹(x,y)å’Œè¾¹é•¿lenï¼Œç»˜åˆ¶ä¸€ä¸ªnçº§åˆ«çš„ç§‘èµ«é›ªèŠ±åˆ†å½¢
function snowflake(c, n, x, y, len) {
    c.save(); //ä¿å­˜å½“å‰å˜æ¢
    c.translate(x, y); //å˜æ¢åŸç‚¹ä¸ºèµ·å§‹ç‚¹
    c.moveTo(0, 0); //ä»æ–°çš„åŸç‚¹å¼€å§‹ä¸€æ¡æ–°çš„å­è·¯å¾„
    leg(n); //ç»˜åˆ¶é›ªèŠ±çš„ç¬¬ä¸€æ¡è¾¹
    c.rotate(-120 * deg); //ç°åœ¨æ²¿ç€é€†æ—¶é’ˆæ–¹å‘æ—‹è½¬120 o
    leg(n); //ç»˜åˆ¶ç¬¬äºŒæ¡è¾¹
    c.rotate(-120 * deg); //å†æ¬¡æ—‹è½¬
    leg(n); //ç”»æœ€åä¸€æ¡è¾¹
    c.closePath(); //é—­åˆå­è·¯å¾„
    c.restore(); //æ¢å¤åˆå§‹çš„å˜æ¢
    //ç»˜åˆ¶nçº§åˆ«çš„ç§‘èµ«é›ªèŠ±çš„ä¸€æ¡è¾¹
    //æ­¤å‡½æ•°åœ¨ç”»å®Œä¸€æ¡è¾¹çš„æ—¶å€™å°±ç¦»å¼€å½“å‰ç‚¹ï¼Œ
    //ç„¶åé€šè¿‡åæ ‡ç³»å˜æ¢å°†å½“å‰ç‚¹åˆè½¬æ¢æˆ(0,0,)
    //è¿™æ„å‘³ç€ç”»å®Œä¸€æ¡è¾¹ä¹‹åå¯ä»¥å¾ˆç®€å•åœ°è°ƒç”¨rotate()è¿›è¡Œæ—‹è½¬
    function leg(n) {
        c.save(); //ä¿å­˜å½“å‰åæ ‡ç³»å˜æ¢
        if (n == 0) { //ä¸éœ€è¦é€’å½’çš„æƒ…å†µä¸‹:
            c.lineTo(len, 0); //å°±ç»˜åˆ¶ä¸€æ¡æ°´å¹³çº¿æ®µ
        } else { //é€’å½’æƒ…å†µä¸‹ï¼šç»˜åˆ¶4æ¡å­è¾¹ï¼Œç±»ä¼¼è¿™ä¸ªæ ·å­ï¼š - \/ -
            c.scale(1 / 3, 1 / 3); //å­è¾¹é•¿åº¦ä¸ºåŸè¾¹é•¿çš„1/3
            leg(n - 1); //é€’å½’ç¬¬ä¸€æ¡å­è¾¹
            c.rotate(60 * deg); //é¡ºæ—¶é’ˆæ—‹è½¬60 o
            leg(n - 1); //ç¬¬äºŒæ¡å­è¾¹
            c.rotate(-120 * deg); //é€†æ—¶é’ˆæ—‹è½¬120 o
            leg(n - 1); //ç¬¬ä¸‰æ¡å­è¾¹
            c.rotate(60 * deg); //é€šè¿‡æ—‹è½¬å›åˆ°åˆå§‹çŠ¶æ€
            leg(n - 1); //æœ€åä¸€æ¡è¾¹
        }
        c.restore(); //æ¢å¤åæ ‡ç³»å˜æ¢
        c.translate(len, 0); //ä½†æ˜¯é€šè¿‡è½¬æ¢ä½¿å¾—è¾¹çš„ç»“æŸç‚¹ä¸º(0,0)
    }
}
```
**[â¬† back to top](#readme)**
## åœ¨Web Workerä¸­å‘èµ·åŒæ­¥XMLHtttpRequest
```js
//æ­¤æ–‡ä»¶ä¼šé€šè¿‡ä¸€ä¸ªæ–°çš„Worker()æ¥è½½å…¥ï¼Œå› æ­¤ï¼Œå®ƒæ˜¯è¿è¡Œåœ¨ç‹¬ç«‹çš„çº¿ç¨‹ä¸­çš„ï¼Œ
//å¯ä»¥æ”¾å¿ƒåœ°ä½¿ç”¨åŒæ­¥XMLHttpRequest API
//æ¶ˆæ¯æ˜¯URLæ•°ç»„çš„å½¢å¼ã€‚ä»¥å­—ç¬¦ä¸²å½¢å¼åŒæ­¥è·å–æ¯ä¸ªURLæŒ‡å®šçš„å†…å®¹ï¼Œ
//å¹¶å°†è¿™äº›å­—ç¬¦ä¸²æ•°ç»„ä¼ é€’å›å»ã€‚
onmessage = function (e) {
    var urls = e.data; //è¾“å…¥ï¼šè¦è·å–çš„URL
    var contents = []; //è¾“å‡ºï¼šURLæŒ‡å®šçš„å†…å®¹
    for (var i = 0; i < urls.length; i++) {
        var url = urls[i]; //æ¯ä¸ªURL
        var xhr = new XMLHttpRequest(); //å¼€å§‹ä¸€ä¸ªHTTPè¯·æ±‚
        xhr.open("GET", url, false); //falseåˆ™è¡¨ç¤ºè¿›è¡ŒåŒæ­¥è¯·æ±‚
        xhr.send(); //é˜»å¡ä½ï¼Œä¸€ç›´åˆ°å“åº”å®Œæˆ
        if (xhr.status !== 200) //å¦‚æœè¯·æ±‚å¤±è´¥åˆ™æŠ›å‡ºé”™è¯¯
            throw Error(xhr.status + " " + xhr.statusText + ": " + url);
        contents.push(xhr.responseText); //å¦åˆ™ï¼Œå­˜å‚¨é€šè¿‡URLè·å–å¾—åˆ°çš„å†…å®¹
    }
    //æœ€åï¼Œå°†è¿™äº›URLå†…å®¹ä»¥æ•°ç»„çš„å½¢å¼ä¼ é€’å›ä¸»çº¿ç¨‹
    postMessage(contents);
}
```
**[â¬† back to top](#readme)**
## ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—æ¯çš„å‡ºç°æ¬¡æ•°
```js
function statistics(str) {
        str = str || ""; //å¤„ç†åœ¨ä¸ä¼ é€’å‚æ•°çš„æƒ…å†µä¸‹ä¸æŠ¥é”™
        var obj = {};
        for (var i = 0; i < str.length; i++) {
                var element = str[i];
                obj[element] = !obj[element] ? 1 : obj[element] + 1;
        }
        return obj;
}
```
**[â¬† back to top](#readme)**
## æ‹·è´æ•°ç»„
```js
var toConsumableArray = function (arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];
      return arr2;
    } else {
      return Array.from(arr);
    }
  }
```
**[â¬† back to top](#readme)**
## ç»™HTMLå…ƒç´ å¢åŠ æ ·å¼ç±»å
```js
        function hasClass(ele, cls) {
            let reg = new RegExp("(^|\\s)" + cls + "(\\s|$)");
            return reg.test(ele.className);
        }

        function addClass(ele, cls) {
            if (!hasClass(ele, cls)) {
                console.log(2)
                let newCls = ele.className.split(" ");
                newCls.push(cls);
                ele.className = newCls.join(" ");
            }
        }
```
**[â¬† back to top](#readme)**
## å†™ä¸€ä¸ªèŒƒå›´å‡½æ•°
```js
function* range(start, end) {
    yield start;
    if (start === end) return;
    yield* range(start + 1, end);
}

console.log([...range(2,6)]) //[ 2, 3, 4, 5, 6 ]
```
**[â¬† back to top](#readme)**
## å†™ä¸€ä¸ªevalå‡½æ•°
```js
function DOMEval(code, doc) {
	doc = doc || document;
	var script = doc.createElement("script");
	script.text = code;
	doc.head.appendChild(script).parentNode.removeChild(script);
}
```
**[â¬† back to top](#readme)**
## åˆ¤æ–­ç©ºå¯¹è±¡çš„å‡½æ•°
```js
function isEmptyObject(obj) {
    var name;
    for (name in obj) {
        return false;
    }
    return true;
}
```
**[â¬† back to top](#readme)**
## éšæœºæŠ½æ ·è°ƒæŸ¥
```js
let ary = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

let newAry = [];

for (let i = 0; i < 5; i++) {
    let num = Math.round(Math.random() * 9);
    let value = ary[num];
    newAry.push(value)

    ary[num] = ary[ary.length - 1];
    ary.length--;
}

console.log(newAry);
```
**[â¬† back to top](#readme)**
## æ±‚æ•°ç»„ä¸­çš„æœ€å¤§æ•°
```js
let ary = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

Math.max.apply(null, ary);
Math.max(...ary);

function max(ary) {
    let max = ary[0];
    for (const item of ary) {
        max = max > item ? max : item;
    }
    return max;
}
```
**[â¬† back to top](#readme)**
## å­—ç¬¦ä¸²çš„repeatçš„æ–¹æ³•æ¨¡ä»¿
```js
var repeat = function (str, n) {
    var res = '';
    while (n) {
        if (n % 2 === 1) {
            res += str;
        }
        if (n > 1) {
            str += str;
        }
        n >>= 1;
    }
    return res
};

console.log(repeat("*", 6));
```
